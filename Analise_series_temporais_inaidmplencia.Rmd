---
title: "Análise da Inadimplência de Pessoas Físicas no Brasil"
author: "Jeferson Delavusca Gonçalves"
date: "2025-07-17"
output: html_document
---

# Introdução

Este relatório tem como objetivo analisar a taxa de inadimplência de pessoas físicas no Brasil com base em dados mensais extraídos do Sistema Gerenciador de Séries Temporais (SGS) do Banco Central do Brasil (BACEN). A série utilizada corresponde ao período de março de 2011 a maio de 2025, expressa em termos percentuais e referente ao total do país (nível Brasil).

A finalidade central é identificar um modelo de séries temporais que melhor represente o comportamento histórico dos dados, possibilitando tanto a realização de previsões quanto a aplicação prática da teoria clássica de modelagem de séries temporais utilizando a linguagem R. A análise busca, portanto, integrar fundamentos teóricos e aplicação prática, contribuindo para a compreensão e previsão da evolução da inadimplência no país ao longo do tempo.

O primeiro passo será limpar os objetos existentes no ambiente do R, a fim de garantir uma memória limpa e evitar interferências de análises anteriores. Em seguida, serão carregados os pacotes necessários previamente instalados. 

```{r, include=TRUE, results = "hide", warning=FALSE, message=FALSE}
# Limpa o ambiente
rm(list = ls())

# Carrega pacotes
library(tidyverse)
library(lubridate)
library(ggplot2)
```

Após essa etapa inicial, será realizada a leitura dos dados por meio de uma URL salva previamente, que aponta para o arquivo hospedado em um repositório no GitHub. O arquivo está em formato .csv, com separador de colunas por ponto e vírgula.

Durante o processo de importação, serão aplicadas algumas transformações: será definido o encoding apropriado do arquivo, a coluna que representa a taxa de inadimplência será renomeada, sua classe será convertida para numérica com ajuste do separador decimal (de vírgula para ponto), e a coluna de data será convertida para o formato Date, reconhecido pelo R.

```{r, include=TRUE, results = "hide", warning=FALSE, message=FALSE}
# Ler a url dos dados do repositório do Github
url_github <- 'https://github.com/Jeff-Delavusca/analise_de_series_temporais_da_inadimplencia_pessoa_fisica/raw/refs/heads/main/inadimplencia_pf_br.csv'

# Carregar os dados da url e fazer tratamentos iniciais
df <- read.csv2(url_github, encoding = "latin1") %>% 
  rename(inadimplencia = X21084...Inadimplência.da.carteira.de.crédito...Pessoas.físicas...Total....
  ) %>% 
  mutate(
    
    # Substitui a vírgula por ponto e converte para numérico
    inadimplencia = as.numeric(str_replace(inadimplencia, ",", ".")),
    
    # Adiciona "01/" para representar o primeiro dia do mês
    Data = paste0("01/", Data),
    
    # Converte para data reconhecendo meses em português
    Data = dmy(Data, locale = "pt_BR") # lubridate reconhece meses como "jan", "fev", etc.
  )
```
Feito isso, será analisado se as transformações foram aplicadas corretamente, principalmente no que se refere à conversão das classes das variáveis (colunas). Para isso, serão visualizadas as primeiras linhas da base de dados, a fim de verificar se o carregamento e as alterações ocorreram conforme o esperado.
```{r}
# Verificando classes das colunas
glimpse(df)

head(df)

```
Observou-se, por meio de mensagens de aviso, a presença de dados ausentes (valores NA) na base. Diante disso, foi necessário verificar a quantidade de valores ausentes, sua localização e quais medidas poderiam ser adotadas. Constatou-se que os dados ausentes estavam restritos à última linha do conjunto, possivelmente em decorrência do processo de importação. Assim, optou-se por simplesmente excluir essa linha da base de dados.

```{r}
# Tratando os valores ausentes (NA)
# Soma quantos valores em brancos existem
sum(any(is.na(df)))

# Informa em qual linha e coluna está o NA
df[!complete.cases(df), ] 

# Nesse caso, vou excluir o valor pois não há nenhuma informação nas colunas
df <- df %>% drop_na()
```
Com o tratamento inicial aplicado, os dados foram preparados e ficaram aptos para a etapa de visualização. Optou-se por mantê-los em seu formato original e utilizar a função ggplot() para a construção de um gráfico de linha, com o objetivo de analisar o comportamento da série ao longo do tempo.

```{r, warning=FALSE, message=FALSE}
# Após o tratamento inicial dos dados, plotei o gráfico de linha para analisar o comportamento da inadimplênmcia ao longo dos anos
ggplot2::ggplot(df, aes(x = Data, y = inadimplencia)) +
  geom_line(color = "steelblue", size = 1) +
  labs(
    title = "Inadimplência de Pessoas Físicas no Brasil",
    subtitle = "Taxa de Inadimplência (%)",
    y  = "",
    caption = "Fonte: Sistema Gerenciador de Séries Temporais (BCB)"
  ) + 
  theme_minimal()
```








Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
